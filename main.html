<!doctype html>
<html>

<head>
    <title>Pflanzerie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style-desktop.css">
    <link rel="stylesheet" href="imgRadios.css">
    <link rel="stylesheet" href="addForm.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>

<body>
    <div class="card">

        <img src="" alt="friedenslilie" id="plantPic" class="cardpics">
        <figcaption id="name"></figcaption>
        <details open>
            <summary>Zusammenfassung</summary>
            <button onclick="changeSettings()" id="settings" class="settingsOn"></button>
            <ul class="cc-selector ">
                <li class="amountRadios">Wasser:<br>
                    <div class="radios">
                        <input type="radio" name="waterAmount" aria-label="sehr wenig Wasser" value="1">
                        <label for="water-amount-1" id="water-amount-1" class="wateringCans drinkcard-cc water-amount-1 noHover cardRadios"
                            onclick="onRadioImgClick('water', 1)"></label>

                        <input type="radio" name="waterAmount" aria-label="wenig Wasser" value="2">
                        <label for="water-amount-2" id="water-amount-2" class="wateringCans drinkcard-cc water-amount-2 noHover cardRadios"
                            onclick="onRadioImgClick('water', 2)"></label>

                        <input type="radio" name="waterAmount" aria-label="mittel viel Wasser" value="3">
                        <label for="water-amount-3" id="water-amount-3" class="wateringCans drinkcard-cc water-amount-3 noHover cardRadios"
                            onclick="onRadioImgClick('water', 3)"></label>

                        <input type="radio" name="waterAmount" aria-label="viel Wasser" value="4">
                        <label for="water-amount-4" id="water-amount-4" class="wateringCans drinkcard-cc water-amount-4 noHover cardRadios"
                            onclick="onRadioImgClick('water', 4)"></label>

                        <input type="radio" name="waterAmount" aria-label="sehr viel Wasser" value="5">
                        <label for="water-amount-5" id="water-amount-5" class="wateringCans drinkcard-cc water-amount-5 noHover cardRadios"
                            onclick="onRadioImgClick('water', 5)"></label>
                    </div>
                </li>
                <li class="amountRadios">Licht:<br>
                    <div class="radios">
                        <input type="radio" name="lightAmount" aria-label="sehr wenig Licht" value="1">
                        <label for="light-amount-1" id="light-amount-1" class="suns drinkcard-cc light-amount-1 noHover cardRadios"
                            onclick="onRadioImgClick('light', 1)"></label>

                        <input type="radio" name="lightAmount" aria-label="wenig Licht" value="2">
                        <label for="light-amount-2" id="light-amount-2" class="suns drinkcard-cc light-amount-2 noHover cardRadios"
                            onclick="onRadioImgClick('light', 2)"></label>

                        <input type="radio" name="lightAmount" aria-label="mittel viel Licht" value="3">
                        <label for="light-amount-3" id="light-amount-3" class="suns drinkcard-cc light-amount-3 noHover cardRadios"
                            onclick="onRadioImgClick('light', 3)"></label>

                        <input type="radio" name="waterAmount" aria-label="viel Licht" value="4">
                        <label for="light-amount-4" id="light-amount-4" class="suns drinkcard-cc light-amount-4 noHover cardRadios"
                            onclick="onRadioImgClick('light', 4)"></label>

                        <input type="radio" name="lightAmount" aria-label="sehr viel Licht" value="5">
                        <label for="light-amount-5" id="light-amount-5" class="suns drinkcard-cc light-amount-5 noHover cardRadios"
                            onclick="onRadioImgClick('light', 5)"></label>
                    </div>
                </li>
            </ul>
        </details>
        <details open>
            <summary>Beschreibung</summary>
            <p id="about" class="about"></p>
        </details>
    </div>
    <button id="addPlantButton" onclick="showAddPlantForm(true)"><i class="material-icons">add</i>Hinzufügen</button>



    <div class="plantFormHidden" id="plantForm">
        <form class="form-container">

            <legend class="addPlantTitle">Füge eine neue Pflanze hinzu:</legend>
            <div id="formImgUpload">
                <img src="plants/formInputPlant.jpg" id="formPlantImgLabel">
                <label for="formPlantImg" aria-label="Bild der Pflanze"></label>
                <input type="file" name="formPlantImg" id="formPlantImg" class="scr-only"
                    accept="image/png, image/gif, image/jpeg"><br>
            </div>
            <label for="plantName">Name der Pflanze:</label><br>
            <input class="formInputBoxes" type="text" placeholder="z.B.: Friedenslilie" name="plantName" required><br>

            <label for="plantRoom">Standort der Pflanze:</label><br>
            <input class="formInputBoxes" type="text" placeholder="z.B.: Wohnzimmer" name="plantRoom" required><br>

            <ul class="cc-selector">
                <li class="amountRadios">Wasser:<br>
                    <div class="radios">
                        <input type="radio" name="waterAmount" aria-label="sehr wenig Wasser" value="1">
                        <label for="water-amount-1" id="formWater-amount-1"
                            class="wateringCans drinkcard-cc water-amount-1"
                            onclick="setRadioAmount('formWater', 1)"></label>

                        <input type="radio" name="waterAmount" aria-label="wenig Wasser" value="2">
                        <label for="water-amount-2" id="formWater-amount-2"
                            class="wateringCans drinkcard-cc water-amount-2"
                            onclick="setRadioAmount('formWater', 2)"></label>

                        <input type="radio" name="waterAmount" aria-label="mittel viel Wasser" value="3">
                        <label for="water-amount-3" id="formWater-amount-3"
                            class="wateringCans drinkcard-cc water-amount-3"
                            onclick="setRadioAmount('formWater', 3)"></label>

                        <input type="radio" name="waterAmount" aria-label="viel Wasser" value="4">
                        <label for="water-amount-4" id="formWater-amount-4"
                            class="wateringCans drinkcard-cc water-amount-4"
                            onclick="setRadioAmount('formWater', 4)"></label>

                        <input type="radio" name="waterAmount" aria-label="sehr viel Wasser" value="5">
                        <label for="water-amount-5" id="formWater-amount-5"
                            class="wateringCans drinkcard-cc water-amount-5"
                            onclick="setRadioAmount('formWater', 5)"></label>
                    </div>
                </li>
                <li class="amountRadios">Licht:<br>
                    <div class="radios">
                        <input type="radio" name="lightAmount" aria-label="sehr wenig Licht" value="1">
                        <label for="light-amount-1" id="formLight-amount-1" class="suns drinkcard-cc light-amount-1"
                            onclick="setRadioAmount('light', 1)"></label>

                        <input type="radio" name="lightAmount" aria-label="wenig Licht" value="2">
                        <label for="light-amount-2" id="formLight-amount-2" class="suns drinkcard-cc light-amount-2"
                            onclick="setRadioAmount('formLight', 2)"></label>

                        <input type="radio" name="lightAmount" aria-label="mittel viel Licht" value="3">
                        <label for="light-amount-3" id="formLight-amount-3" class="suns drinkcard-cc light-amount-3"
                            onclick="setRadioAmount('formLight', 3)"></label>

                        <input type="radio" name="waterAmount" aria-label="viel Licht" value="4">
                        <label for="light-amount-4" id="formLight-amount-4" class="suns drinkcard-cc light-amount-4"
                            onclick="setRadioAmount('formLight', 4)"></label>

                        <input type="radio" name="lightAmount" aria-label="sehr viel Licht" value="5">
                        <label for="light-amount-5" id="formLight-amount-5" class="suns drinkcard-cc light-amount-5"
                            onclick="setRadioAmount('formLight', 5)"></label>
                    </div>
                </li>
            </ul>
            </details>

            <label for="description">Beschreibung hinzufügen:</label><br>
            <textarea class="formInputBoxes" id="formPlantdescription" name="description" placeholder=""></textarea><br>
            <div class="formBtns">
                <input type="submit" value="Hinzufügen" class="submitBtn"></button>
                <button type="button" onclick="showAddPlantForm(false)" class="cancelBtn">Abbrechen</button>
            </div>

        </form>

    </div>

    

</body>
<script type="text/javascript" src="plants.json"></script>
<script>

    //function for changing the sun and watering can if selected
    function onRadioImgClick(imgType, amount) {
       
    
        //noHover.classList.toggle("noHover");
        // });

        if (settingsIsClicked === true) {
            setRadioAmount(imgType, amount);
            //hier muss noch der Wert im JSON überschrieben werden.
        }
    }
    //sets the amount of selected amounts x/5
    function setRadioAmount(imgType, amount) {
        for (var i = 1; i <= amount; i++) {
            document.getElementById(imgType + "-amount-" + i).classList.add("drinkcardSelected");
            document.getElementById(imgType + "-amount-" + i).classList.remove("drinkcardUnselected");
        }
        for (var i = 5; i > amount; i--) {
            document.getElementById(imgType + "-amount-" + i).classList.replace("drinkcardSelected", "drinkcardUnselected");
        }
        console.log(imgType + "Amount is " + i);
    }

    //change the symbol of the settings button when clicked + sets the change mode
    let settingsIsClicked = false;
    function changeSettings() {
        if (!settingsIsClicked) {
            document.getElementById("settings").classList.replace("settingsOn", "settingsClose");
            settingsIsClicked = true;
        } else {
            document.getElementById("settings").classList.replace("settingsClose", "settingsOn");
            settingsIsClicked = false;
        }
        const noHover = document.querySelectorAll(".cardRadios");
        noHover.forEach(noHover => {
            noHover.classList.toggle("noHover");
        });
    }

    function showAddPlantForm(status) {
        if (status) {
            document.getElementById("plantForm").classList.remove("plantFormHidden");
            console.log("Show add form");
        } else {
            document.getElementById("plantForm").classList.add("plantFormHidden");
        }
    }



    const plant1 = {
        id: 1,
        name: "Friedenslilie",
        room: "Wohnzimmer",
        img: "plants/einblatt.jpg",
        waterAmount: 5,
        lightAmount: 4,
        description: "Das Einblatt ist wegen ihrer kleinen weißen Blüten sehr beliebt. Dieser Pflanze wird in Deutschland auch Scheidenblatt, Friedenslilie, Blattfahne oder Spathiphyllum genannt. Die Spathiphyllum kommt ursprünglich aus Brasilien. Die Pflanzenfamilie ist Araceae."
    }

    document.getElementById("name").innerHTML = plant1["name"];
    document.getElementsByClassName("about").innerHTML = plant1["description"];
    document.getElementById("plantPic").src = "plants/einblatt.jpg";
    setRadioAmount("water", plant1["waterAmount"]);
    setRadioAmount("light", plant1["lightAmount"]);


</script>


</html>